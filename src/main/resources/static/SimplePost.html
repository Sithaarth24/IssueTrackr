<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Ticket</title>
</head>
<body>
<h2>Submit Ticket</h2>
<form id="ticketForm">
    <label for="TicketId">Ticket ID:</label><br>
    <input type="text" id="TicketId" name="TicketId"><br>

    <label for="Location">Location:</label><br>
    <input type="text" id="Location" name="Location"><br>

    <label for="Category">Category:</label><br>
    <input type="text" id="Category" name="Category"><br>

    <label for="TicketInfo">Ticket Info:</label><br>
    <input type="text" id="TicketInfo" name="TicketInfo"><br>

    <label for="ConfigurationItem">Configuration Item:</label><br>
    <input type="text" id="ConfigurationItem" name="ConfigurationItem"><br>

    <label for="Priority">Priority:</label><br>
    <input type="text" id="Priority" name="Priority"><br>

    <label for="Description">Description:</label><br>
    <textarea id="Description" name="Description"></textarea><br>

    <label for="Opened">Opened:</label><br>
    <input type="date" id="Opened" name="Opened"><br>

    <label for="OpenedBy">Opened By:</label><br>
    <input type="text" id="OpenedBy" name="OpenedBy"><br>

    <label for="State">State:</label><br>
    <input type="text" id="State" name="State"><br>

    <label for="AssignmentGroup">Assignment Group:</label><br>
    <input type="text" id="AssignmentGroup" name="AssignmentGroup"><br>

    <label for="AssignedTo">Assigned To:</label><br>
    <input type="text" id="AssignedTo" name="AssignedTo"><br>

    <label for="ClosedTime">Closed Time:</label><br>
    <input type="date" id="ClosedTime" name="ClosedTime"><br>

    <button type="button" onclick="submitTicket()">Submit</button>
</form>

<script>
    function submitTicket() {
        var formData = {

            Location: document.getElementById("Location").value,
            Category: document.getElementById("Category").value,
            TicketInfo: document.getElementById("TicketInfo").value,
            ConfigurationItem: document.getElementById("ConfigurationItem").value,
            Priority: document.getElementById("Priority").value,

            Opened: document.getElementById("Opened").value,
            OpenedBy: document.getElementById("OpenedBy").value,
            State: document.getElementById("State").value,
            AssignmentGroup: document.getElementById("AssignmentGroup").value,
            AssignedTo: [document.getElementById("AssignedTo").value],
            ClosedTime: document.getElementById("ClosedTime").value
        };

        var xhr = new XMLHttpRequest();
        xhr.open("POST", "http://127.0.0.1:8080/add", true);
        xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xhr.send(JSON.stringify(formData));
    }
</script>
</body>
</html>
